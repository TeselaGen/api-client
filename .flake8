[flake8]
#   https://flake8.pycqa.org/en/latest/
#   https://flake8.pycqa.org/en/latest/user/options.html

# pip install --upgrade --no-cache-dir pylint mccabe radon flake8-polyfill flake8-bugbear flake8

# Format errors according to the chosen formatter.
format = pylint

# Maximum allowed line length for the entirety of this run. (Default: 79)
max-line-length = 119

# Maximum allowed doc line length for the entirety of this run. (Default: None)
max-doc-length = 119

# Number of subprocesses to use to run checks in parallel. This is ignored on Windows.
# The default, "auto", will auto-detect the number of processors available to use.
# (Default: auto)
# jobs = auto
jobs = 8

# Comma-separated list of files or directories to exclude.
# (Default: ['.svn', 'CVS', '.bzr', '.hg', '.git', '__pycache__', '.tox', '.eggs', '*.egg'])
exclude =
    .svn,
    CVS,
    .bzr,
    .hg,
    .git,
    __pycache__,
    .tox,
    .eggs,
    *.egg,
    # custom
    .mypy_cache,
    .pytest_cache,
    *.csv,
    *.pyc,
    *.pyi,
    *.txt,
    stubs,
    typesheds,
    typestubs,
    typings

# Disable the effect of "# noqa". This will report errors on lines with "# noqa" at the end.
# disable-noqa = True

# Count errors and warnings.
statistics = True

# Show the source generate each error or warning.
# show-source = True

#   FLAKE8 EXTENSIONS
#
#       flake8-bugbear [B101, B950]
#       https://github.com/PyCQA/flake8-bugbear
#
#       flake8-copyright [C801]
#       https://github.com/savoirfairelinux/flake8-copyright
#
#       flake8-commas [C812, C819]
#       https://github.com/PyCQA/flake8-commas/
#
#       flake8-comprehensions [C400, C416]
#       https://github.com/adamchainz/flake8-comprehensions
#
#       flake8-bandit [S101, S704] - Replaced B prefix with S, for safety reasons
#       https://github.com/tylerwince/flake8-bandit
#           https://pypi.org/project/bandit/
#
#       flake8-docstrings [D100, D418]
#       https://github.com/PyCQA/flake8-docstrings
#           http://www.pydocstyle.org/en/stable/error_codes.html
#
#       flake8-eradicate [E800]
#       https://github.com/wemake-services/flake8-eradicate
#
#       flake8-print [T001, T004]
#       https://github.com/jbkahn/flake8-print
#
#       flake8-pytest-style [PT001, PT026]
#       https://github.com/m-burst/flake8-pytest-style
#
#       flake8-logging-format [G001, G202]
#       https://github.com/globality-corp/flake8-logging-format
#
#       pep8-naming [N801, N818] (naming)
#       https://github.com/PyCQA/pep8-naming
#
#       pycodestyle [E101, E902] [W191, W606]
#       https://pycodestyle.pycqa.org/en/latest/intro.html#error-codes
#
#       pydocstyle [D100 D418]
#       http://www.pydocstyle.org/en/stable/error_codes.html
#
#       pyflakes [F401, 841]
#       https://github.com/PyCQA/pyflakes
#
#       radon [R101, R502]
#       https://github.com/rubik/radon
#
#       flake8-executable [EXE001, EXE005]
#       https://github.com/xuhdev/flake8-executable
#
#       flake8_implicit_str_concat [ISC001, ISC003]
#       https://github.com/keisheiled/flake8-implicit-str-concat
#
#       tryceratops [TC002, TC401]
#       https://github.com/guilatrova/tryceratops

# Enable plugins and extensions that are otherwise disabled by default
#   G       = flake8-logging-format
#   naming  = pep8-naming
enable-extensions =
    flake8_implicit_str_concat,
    flake8-bandit,
    flake8-bugbear,
    flake8-commas,
    flake8-comprehensions,
    flake8-copyright,
    flake8-docstrings,
    flake8-eradicate,
    flake8-executable,
    flake8-print,
    flake8-pytest-style,
    G,
    naming,
    pycodestyle,
    pydocstyle,
    pyflakes,
    radon

# # mccabe
# McCabe complexity threshold
max-complexity = 10
# https://github.com/facebookresearch/mmf/blob/7fa7607d299a644158dc3104247e58a30e4b42ab/.flake8#L5
# max-complexity = 18

# # pyflakes
# also check syntax of the doctests
# doctests = True

# # radon
#   https://radon.readthedocs.io/en/latest/flake8.html
radon-max-cc = 10

# flake8-docstrings
docstring-convention = google

ignore =
    # One-line docstring should fit on one line with quotes
    # D200,
    # Multi-line docstring summary should start at the first line
    # D212,
    # 1 blank line required between summary line and description
    # D205,
    # First line should end with a period, question mark, or exclamation point
    # D415,
    # No blank lines allowed after function docstring
    # D202
    # Unnecessary list comprehension - rewrite using list()
    C416

per-file-ignores =
    # Ignore the following errors in the tests
    #   D101    : Missing docstring in public class
    #   D102    : Missing docstring in public method
    #   D103    : Missing docstring in public function
    #   D104    : Missing docstring in public packageflake8
    #   H601    : class has low (X.YZ%) cohesion
    #   PT001   : use @pytest.fixture() over @pytest.fixture
    #   S101    : Use of assert detected. The enclosed code will be removed when compiling to optimised byte code
    */test_*: D101,D102,D103,H601,PT001,S101
    */__init__.py: D104

# flake8-copyright
#   Reference: https://github.com/savoirfairelinux/flake8-copyright
# flake8-copyright does not support unicode. You should list the files that contain unicode in the `exclude` list.
#   Reference: https://github.com/savoirfairelinux/flake8-copyright/issues/15
copyright-check = True
copyright-regexp=Copyright \(c\) TeselaGen Biotechnology, Inc. and its affiliates. All Rights Reserved
# C errors are not selected by default, so add them to your selection

# Default select = E,F,W,C90
select =
    E,
    F,
    W,
    # mccabe
    C90,
    # Custom
    B,
    C,
    S,
    D,
    T,
    PT,
    G,
    N,
    R,
    EXE,
    ISC,
    TC,
